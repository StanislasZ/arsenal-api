<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cmbnb.weChatNotice.modules.wechat.mapper.WechatUserMapper">

    <delete id="deleteAll">
        delete from wechat_user where 1=1
    </delete>

    <insert id="insertList">
        insert into wechat_user
        (
            `name`, `wechat_id`, `delete_flag`
        )
        values
        <foreach collection="list" item="item" index="index" separator=",">
        (
            #{item.name}, #{item.wechatId}, false
        )
        </foreach>
    </insert>


    <update id="updateDeleteFlag">
        update wechat_user
        set delete_flag = true
        where 1=1
    </update>


    <select id="getWechatUserList" resultType="com.cmbnb.weChatNotice.modules.wechat.entity.WechatUser">
        select * from wechat_user
        where name = #{name} and delete_flag = false
    </select>
</mapper>